<% if !params[:name].blank? %>
  <% @parties = Party.where(name: params[:name]) %>
<% end %>
<div>
  <h1>All Parties</h1>
  <% @parties.each do |party| %>
    <div>
      <%= link_to party.name, party_path(party) %>
    </div>
  <% end %>
</div>
<div>
  <h3>Filter Posts</h3>
  <%= form_tag("/parties", method: "get") do %>
    <%= select_tag "name", options_from_collection_for_select(Party.all, "name", "name"), include_blank: true %>
    <%= submit_tag "Filter" %>
  <% end %>
</div>